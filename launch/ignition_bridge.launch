<?xml version="1.0" encoding="UTF-8"?>
<!-- @TODO Clean up -->
<launch>
  <!-- Argument -->
  <arg name="robot_name"/>
  <arg name="world_name"/>
  <arg name="base_frame" default="base_link"/>
  <arg name="tf_prefix" default="$(arg robot_name)/"/>
  <arg name="lidar_sensor_frame" default="lidar"/>
  <arg name="rgbd_front_frame" default="front_camera"/>
  <arg name="rgb_back_frame" default="back_camera"/>
  <arg name="rgb_third_frame" default="third_person_camera"/>
  <!-- Control command bridge -->
  <node pkg="ros_ign_bridge" type="parameter_bridge" name="control_bridge" output="screen" args="/model/$(arg robot_name)/cmd_vel@geometry_msgs/Twist]ignition.msgs.Twist">
    <remap from="/model/$(arg robot_name)/cmd_vel" to="/$(arg robot_name)/cmd_vel"/>
  </node>
  <node pkg="ros_ign_bridge" type="parameter_bridge" name="joint_bridge" output="screen" args="/world/$(arg world_name)/model/$(arg robot_name)/joint_state@sensor_msgs/JointState[ignition.msgs.Model">
    <remap from="/world/$(arg world_name)/model/$(arg robot_name)/joint_state" to="/$(arg robot_name)/joint_states"/>
  </node>
  <!-- Sensors -->
  <node pkg="ros_ign_image" type="image_bridge" name="image_bridge" output="screen" args="/world/$(arg world_name)/model/$(arg robot_name)/link/$(arg base_frame)/sensor/$(arg rgbd_front_frame)/image /world/$(arg world_name)/model/$(arg robot_name)/link/$(arg base_frame)/sensor/$(arg rgb_third_frame)/image">
    <remap from="/world/$(arg world_name)/model/$(arg robot_name)/link/$(arg base_frame)/sensor/$(arg rgbd_front_frame)/image" to="/$(arg robot_name)/front_image"/>
    <remap from="/world/$(arg world_name)/model/$(arg robot_name)/link/$(arg base_frame)/sensor/$(arg rgb_third_frame)/image" to="/$(arg robot_name)/third_person_image"/>
  </node>
  <!-- For depth camera visualize-->
  <node pkg="tf2_ros" type="static_transform_publisher" name="depth_stf" args="0 0 0 0 0 0 $(arg tf_prefix)$(arg rgbd_front_frame) $(arg robot_name)/$(arg base_frame)/$(arg rgbd_front_frame)"/>
</launch>
